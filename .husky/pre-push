#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Pre-push validation - runs full validation suite before pushing
echo "ğŸ” Running pre-push validation suite..."
echo ""

# Run type check
echo "[1/3] Type checking..."
if bun run check-types; then
  echo "  âœ“ Type check passed"
else
  echo "  âœ— Type check failed"
  echo "âŒ Pre-push validation failed. Please fix errors before pushing."
  exit 1
fi

echo ""

# Run lint check
echo "[2/3] Linting..."
if bun x ultracite check; then
  echo "  âœ“ Lint check passed"
else
  echo "  âœ— Lint check failed"
  echo "ğŸ’¡ Run 'bun x ultracite fix' to auto-fix issues"
  exit 1
fi

echo ""

# Run build
echo "[3/3] Building..."
if bun run build; then
  echo "  âœ“ Build successful"
else
  echo "  âœ— Build failed"
  exit 1
fi

echo ""
echo "âœ… All pre-push validations passed!"
